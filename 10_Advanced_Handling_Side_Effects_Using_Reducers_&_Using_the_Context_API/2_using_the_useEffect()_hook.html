<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Using the useEffect() Hook</title>
</head>
<body>
    <!--
        Module Content:
            - Working w/ (Side) Effects
            - Managing more Complex State w/ Reducers
            - Managing App-Wide or Component-Wide State w/ Context
    -->

    <!-- 
        - EVERYTIME THE BROWSER RESTARTS THIS IS THE FUNCTION THAT RUNS

        import React, { useEffect, useState } from 'react';

        import Login from './components/Login/Login';
        import Home from './components/Home/Home';
        import MainHeader from './components/MainHeader/MainHeader';

        function App() {
        const [isLoggedIn, setIsLoggedIn] = useState(false);

        useEffect(() => {
            const storedUserLoggedInInformation = localStorage.getItem('isLoggedIn')

            if (storedUserLoggedInInformation === '1'){
            setIsLoggedIn(true);
            }
        }, []); // this function will only run once, when the app starts up.
        
        const loginHandler = (email, password) => {
            // We should of course check email and password
            // But it's just a dummy/ demo anyways
            localStorage.setItem('isLoggedIn', '1') // it stores the data in the local storage.
            setIsLoggedIn(true); // here we change the state and trigger the component in useState.
        };

        const logoutHandler = () => {
            localStorage.removeItem('isLoggedIn');
            setIsLoggedIn(false);
        };

        return (
            <React.Fragment>
            <MainHeader isAuthenticated={isLoggedIn} onLogout={logoutHandler} />
            <main>
                {!isLoggedIn && <Login onLogin={loginHandler} />}
                {isLoggedIn && <Home onLogout={logoutHandler} />}
            </main>
            </React.Fragment>
        );
        }

        export default App;
    -->
</body>
</html>